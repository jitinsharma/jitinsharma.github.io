<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.abd6e664fce0d85afb8c.css">html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:26px;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}code[class*=language-],pre[class*=language-]{color:#657b83;font-size:1em;word-wrap:normal}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.entity{cursor:help}code[class*=language-],pre[class*=language-]{color:#d4d4d4;text-shadow:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;color:#db4c69;background:#f9f2f4}.namespace{opacity:.7}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6a9955}.token.punctuation{color:#d4d4d4}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#b5cea8}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#ce9178}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#d4d4d4;background:#1e1e1e}.token.atrule,.token.attr-value,.token.keyword{color:#c586c0}.token.function{color:#dcdcaa}.token.important,.token.regex,.token.variable{color:#d16969}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.constant{color:#9cdcfe}.token.class-name{color:#4ec9b0}.token.interpolation,.token.parameter{color:#9cdcfe}.token.boolean,.token.punctuation.interpolation-punctuation{color:#569cd6}.token.property{color:#9cdcfe}.token.selector{color:#d7ba7d}.token.tag{color:#569cd6}.token.attr-name{color:#9cdcfe}.token.attr-value{color:#ce9178}.token.entity{color:#4ec9b0;cursor:unset}.token.namespace,code[class*=language-javascript],pre[class*=language-javascript]{color:#4ec9b0}code[class*=language-css],pre[class*=language-css]{color:#ce9178}code[class*=language-html],pre[class*=language-html]{color:#d4d4d4}.language-html .token.punctuation{color:grey}pre[data-line]{position:relative}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}.line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:#f7ebc6;box-shadow:inset 5px 0 0 #f7d87c;z-index:0;pointer-events:none;line-height:inherit;white-space:pre}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism,.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#222}.Author-module--author__subtitle--cAaEB{color:#222;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:12.5rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:35px;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#222}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#5d93ff}.Copyright-module--copyright--1ariN{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#222;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Menu-module--menu__list-item-link--active--2CbUO{color:#222;border-bottom:1px solid #222}.Layout-module--layout--3Pyz6{max-width:93.75rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:-webkit-gradient(linear,left top,left bottom,from(#e6e6e6),color-stop(48%,#e6e6e6),to(#fff));background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:540px;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(24.975% - 1.40625rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(4n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(4n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:100;src:local("Raleway Thin "),local("Raleway-Thin"),url(/static/raleway-latin-100-2d7a1238fea2c2307507a59e0855ff42.woff2) format("woff2"),url(/static/raleway-latin-100-161ab2ad00fa982f54cb8f16f26a0af3.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:100;src:local("Raleway Thin italic"),local("Raleway-Thinitalic"),url(/static/raleway-latin-100italic-9f282cbf5d76bdef157069c79fcf5e2e.woff2) format("woff2"),url(/static/raleway-latin-100italic-5b062a0e5a1a615b73c3d0be017d2e52.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:200;src:local("Raleway Extra Light "),local("Raleway-Extra Light"),url(/static/raleway-latin-200-3fef5ebed6aa72326bf742645ba8a331.woff2) format("woff2"),url(/static/raleway-latin-200-138feb2449027da5ec661144f6ef2c82.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:200;src:local("Raleway Extra Light italic"),local("Raleway-Extra Lightitalic"),url(/static/raleway-latin-200italic-33855fc8800ac209c24e93b171b90784.woff2) format("woff2"),url(/static/raleway-latin-200italic-cc400d950a3bacf5b5fce27fb7c0555b.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:300;src:local("Raleway Light "),local("Raleway-Light"),url(/static/raleway-latin-300-d724dad2e61905f488d048e51d45ae3e.woff2) format("woff2"),url(/static/raleway-latin-300-4baae0f7033718fc7a7a6dbb301db7cc.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:300;src:local("Raleway Light italic"),local("Raleway-Lightitalic"),url(/static/raleway-latin-300italic-72abfd8df65a5440b9f9ad0fb37413bd.woff2) format("woff2"),url(/static/raleway-latin-300italic-4f9a9bcce1b9039228b803f4fd7af4a6.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:400;src:local("Raleway Regular "),local("Raleway-Regular"),url(/static/raleway-latin-400-43c849ea0258ce0d23a480e840881f16.woff2) format("woff2"),url(/static/raleway-latin-400-60b344eb8dd676754364fc5ae4500d62.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:400;src:local("Raleway Regular italic"),local("Raleway-Regularitalic"),url(/static/raleway-latin-400italic-9d182d98e01325f30dee06e58c385c1a.woff2) format("woff2"),url(/static/raleway-latin-400italic-16b1681946ff1ae64f10059518f0f4b8.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:500;src:local("Raleway Medium "),local("Raleway-Medium"),url(/static/raleway-latin-500-6a9b9c422e662a18013ee064fd789213.woff2) format("woff2"),url(/static/raleway-latin-500-e9163c03fd8b6ada4fd3cf87dbc7e2ae.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:500;src:local("Raleway Medium italic"),local("Raleway-Mediumitalic"),url(/static/raleway-latin-500italic-3ffdda0b3d57c6a3ccfc61960ac10934.woff2) format("woff2"),url(/static/raleway-latin-500italic-20ee2c52d2e06b53d5c90d1dafcf5026.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:600;src:local("Raleway SemiBold "),local("Raleway-SemiBold"),url(/static/raleway-latin-600-911d926608ce81ca8d62e74b7d09d276.woff2) format("woff2"),url(/static/raleway-latin-600-b2b7ca0eaed5270531d7a447725203b9.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:600;src:local("Raleway SemiBold italic"),local("Raleway-SemiBolditalic"),url(/static/raleway-latin-600italic-b121e5d74dbfca5940fa38c9506581a6.woff2) format("woff2"),url(/static/raleway-latin-600italic-7d9764eff10e7bfd87a3de44a132eaa6.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:700;src:local("Raleway Bold "),local("Raleway-Bold"),url(/static/raleway-latin-700-77d77f36bed0a452984832f6b5f22e3f.woff2) format("woff2"),url(/static/raleway-latin-700-f252da3726243df4163d7af11448fed1.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:700;src:local("Raleway Bold italic"),local("Raleway-Bolditalic"),url(/static/raleway-latin-700italic-33ecb99651d19f0230f36cd6191cbf32.woff2) format("woff2"),url(/static/raleway-latin-700italic-e79e0f8f3d8581470f83635fef562668.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:800;src:local("Raleway ExtraBold "),local("Raleway-ExtraBold"),url(/static/raleway-latin-800-7222f1fa6b1ba32e4010040ff1c5ee7f.woff2) format("woff2"),url(/static/raleway-latin-800-47f455f9e7eaacb6c1efd0456b9898f9.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:800;src:local("Raleway ExtraBold italic"),local("Raleway-ExtraBolditalic"),url(/static/raleway-latin-800italic-a45bb915945f4eca1f36a3788ebe9a2b.woff2) format("woff2"),url(/static/raleway-latin-800italic-675a7d7a777a9a07f2b10083a2a023d2.woff) format("woff")}@font-face{font-family:Raleway;font-style:normal;font-display:swap;font-weight:900;src:local("Raleway Black "),local("Raleway-Black"),url(/static/raleway-latin-900-d64bf57c79aa2e0c95705017b2867a00.woff2) format("woff2"),url(/static/raleway-latin-900-d04db131ad975034bf42527e9f5ecd9c.woff) format("woff")}@font-face{font-family:Raleway;font-style:italic;font-display:swap;font-weight:900;src:local("Raleway Black italic"),local("Raleway-Blackitalic"),url(/static/raleway-latin-900italic-c1c435205dc2536acd219dad5c2e9634.woff2) format("woff2"),url(/static/raleway-latin-900italic-b2eea53568120d184375076e84decc61.woff) format("woff")}.PresentationFeed-module--feed__item--1wU6F{margin-bottom:2.03125rem}.PresentationFeed-module--feed__item--1wU6F:last-child{margin-bottom:.8125rem}.PresentationFeed-module--feed__item-title--1sS_C{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.PresentationFeed-module--feed__item-title-link--1uyaG{color:#222}.PresentationFeed-module--feed__item-title-link--1uyaG:focus,.PresentationFeed-module--feed__item-title-link--1uyaG:hover{color:#222;border-bottom:1px solid #222}.PresentationFeed-module--feed__item-description--1tDRU{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.PresentationFeed-module--feed__item-meta-time--hDGP5{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.PresentationFeed-module--feed__item-meta-divider--6U98D{margin:0 .3125rem}.PresentationFeed-module--feed__item-meta-category-link--1qoDF{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.PresentationFeed-module--feed__item-meta-category-link--1qoDF:focus,.PresentationFeed-module--feed__item-meta-category-link--1qoDF:hover{color:#5d93ff}.PresentationFeed-module--feed__item-readmore--N9zMe{font-size:1rem;color:#5d93ff}.PresentationFeed-module--feed__item-readmore--N9zMe:focus,.PresentationFeed-module--feed__item-readmore--N9zMe:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#222}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#222;border-bottom:1px solid #222}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:62.1875rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--n-O9n{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:68.75rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:62.1875rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__author--hTU2o{border-bottom:1px solid #e6e6e6;padding-bottom:1.25rem;max-width:62.1875rem;margin:0 auto .625rem}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:62.1875rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:62.1875rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#5d93ff}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#5d93ff}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bbb}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:35px;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#222}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#5d93ff}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:62.1875rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:35px;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#222;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#5d93ff}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}.post-social{max-width:62.1875rem;margin:0 auto .625rem}.post-social .button{margin:.5rem .25rem}.post-social .button.facebook{color:#3b5998;border-radius:1.5625rem;border:2px solid #3b5998;padding:.3rem .8rem;display:inline-block}.post-social .button.facebook:hover{background-color:#3b5998;border-color:#3b5998;color:#fff;cursor:pointer}.post-social .button.twitter{color:#1da1f2;border-radius:1.5625rem;border:2px solid #1da1f2;padding:.3rem .8rem;display:inline-block}.post-social .button.twitter:hover{background-color:#1da1f2;border-color:#1da1f2;color:#fff;cursor:pointer}.post-social .button.googleplus{color:#dd4b39;border-radius:1.5625rem;border:2px solid #dd4b39;padding:.3rem .8rem;display:inline-block}.post-social .button.googleplus:hover{background-color:#dd4b39;border-color:#dd4b39;color:#fff;cursor:pointer}.post-social .button.linkedin{color:#0077b5;border-radius:1.5625rem;border:2px solid #0077b5;padding:.3rem .8rem;display:inline-block}.post-social .button.linkedin:hover{background-color:#0077b5;border-color:#0077b5;color:#fff;cursor:pointer}.post-social .button.reddit{color:#ff4500;border-radius:1.5625rem;border:2px solid #ff4500;padding:.3rem .8rem;display:inline-block}.post-social .button.reddit:hover{background-color:#ff4500;border-color:#ff4500;color:#fff;cursor:pointer}.post-social .button.whatsapp{color:#128c7e;border-radius:1.5625rem;border:2px solid #128c7e;padding:.3rem .8rem;display:inline-block}.post-social .button.whatsapp:hover{background-color:#128c7e;border-color:#128c7e;color:#fff;cursor:pointer}.post-social .text{padding-left:.5rem}</style><meta name="generator" content="Gatsby 2.20.8"/><link rel="alternate" type="application/rss+xml" title="Jitin Sharma" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140829739-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-140829739-1', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#F7A046"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=38bc6d427bd9d1271b34d05d8ea5988c"/><title data-react-helmet="true">Lessons learnt from Vector Drawables - Jitin Sharma</title><meta data-react-helmet="true" name="description" content="Working safely with Vector Drawables on different API levels."/><meta data-react-helmet="true" property="og:site_name" content="Lessons learnt from Vector Drawables - Jitin Sharma"/><meta data-react-helmet="true" property="og:title" content="Lessons learnt from Vector Drawables - Jitin Sharma"/><meta data-react-helmet="true" property="og:description" content="Working safely with Vector Drawables on different API levels."/><meta data-react-helmet="true" property="og:image" content="https://jitinsharma.in/photo.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Lessons learnt from Vector Drawables - Jitin Sharma"/><meta data-react-helmet="true" name="twitter:description" content="Working safely with Vector Drawables on different API levels."/><link as="script" rel="preload" href="/webpack-runtime-f1d4d169c81c600d6090.js"/><link as="script" rel="preload" href="/framework-ddca61c4ba7811224f68.js"/><link as="script" rel="preload" href="/app-daa651738e60a36c8cd3.js"/><link as="script" rel="preload" href="/styles-b8a088968a9324807caf.js"/><link as="script" rel="preload" href="/a9a7754c-b254183c8fbfa9819751.js"/><link as="script" rel="preload" href="/cb1608f2-68d5b5ad1904ad177490.js"/><link as="script" rel="preload" href="/aa960dbb360f83e121eeb584de2418d77bd52dd1-600e30ed284ab2ddcf7d.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-4b738e15af573d7f7419.js"/><link as="fetch" rel="preload" href="/page-data/posts/lessons-learnt-from-vector-drawables/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6"><div><a class="Post-module--post__home-button--16Kl0" href="/">Home</a><div><div class="Content-module--content--3p512"><h1 class="Content-module--content__title--2BDW9">Lessons learnt from Vector Drawables</h1><p class="Content-module--content__author--hTU2o"><em>Published on <!-- -->31 Mar 2020<!-- --> by </em><a href="https://www.twitter.com/@_jitinsharma" rel="noopener noreferrer" target="_blank"><strong> Jitin Sharma</strong></a></p><div class="Content-module--content__body--2TrQ-"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/90a2c0f682fb9cd20b5379bf19928b6c/c8551/vector-header.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 8.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAWUlEQVQI1z2MOwoAIAxDvf/JXD2EODlU8IefSAo2U17SxtVaQe29kXPGvVe5944YI77mnGitWe+9R0pJPTN23HBrLQtFBOcc5VIKQgjWcXCMYcy/f0txkPwAQtGcB77jjHQAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/90a2c0f682fb9cd20b5379bf19928b6c/8ac56/vector-header.webp 240w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/d3be9/vector-header.webp 480w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/e46b2/vector-header.webp 960w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/f992d/vector-header.webp 1440w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/882b9/vector-header.webp 1920w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/38df0/vector-header.webp 2814w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/90a2c0f682fb9cd20b5379bf19928b6c/8ff5a/vector-header.png 240w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/e85cb/vector-header.png 480w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/d9199/vector-header.png 960w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/07a9c/vector-header.png 1440w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/29114/vector-header.png 1920w,
/static/90a2c0f682fb9cd20b5379bf19928b6c/c8551/vector-header.png 2814w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/90a2c0f682fb9cd20b5379bf19928b6c/d9199/vector-header.png"
          alt="vector header"
          title="vector header"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Dialing back to days of Android 5.0 release(s) one of the things which got a lot of people excited was Android got support for SVGs in form of vector Drawables. No longer you were required to draw custom shapes or have icon png(s) based on density, just import SVGs using Android Studio and let the support library draw them for you!</p>
<p>This article is more or less a list of lessons which I’ve learnt while working with vectors and how to make sure to use vectors safely avoiding crashes on devices with API level less than 21.</p>
<h2 id="without-support-library" style="position:relative;"><a href="#without-support-library" aria-label="without support library permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Without Support Library</h2>
<p>By default, if you don’t enable support library use all vector drawables are converted to pngs in their density folders. While this means you’ll never face an rendering issue since pngs are supported in all versions of Android, this will definitely increased size of your app by a lot if you heavily depend on vectors.</p>
<p>Here’s how a vector xml file in transformed into multiple pngs during build cycle</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 562px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ad9a0eeae5df49192070d7adbb59071c/6e88f/vector-png.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4klEQVQ4y42TyXKbQBRF+ZjEqco6cVYWoxHN3ECDADPKqaRSqeT/VzevkRhsSSktbjX9BEfn9aDEcQTX0VEnNsbMQZaGCFwDnqPB3avnaPCZTrU52uZ5O9egcB4hYDvwwMKPzMLvJsLrWKGtOIqUoRQeBN8jdFWKhsiT0Tej/qamRBEZMZWsdOSRhV+Zgark6F9SDG2OpowpnMA+yjxA7BsTOKT312jLSIbxBJSFPH7Gn8JGewjAw2dE7vmfCSJBPDCneehu7db5BDQtY1H2qSDI8ie1/r3NIBJGIHMCrWbaBfQN0DDORfmj/IAADbfwt2IYxhpjKzA0p2SxjZC62dpdAs13RQr39cVy6PIJdsi8q+3eNpRFaUjPWWDgKBz0BBppYzraoFTaXWn3/4YzkAy73EXXFnjtD2jrlNbTuWp3l6EgwyFnaM9rJ4FZvL8PaJqnXZbHZgXqOBYuhqHEsSswUnLa8buAYehP53AuSGAqWxYMzYtAR3ZyDU+3Zf5QX47QmgUY0D1Vl4K8MRI4kGHfnwyPNJYiWC7AJWyN4vsuEl9DQm0mBJLjITIw5g5aMutreQ0T1LkHTkuTzu/diKJaDj5+3eHTozrlgfL5m4qdzWCnFVhSTnliMT58eVreuZV/AuQzc05rztkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/ad9a0eeae5df49192070d7adbb59071c/8ac56/vector-png.webp 240w,
/static/ad9a0eeae5df49192070d7adbb59071c/d3be9/vector-png.webp 480w,
/static/ad9a0eeae5df49192070d7adbb59071c/49232/vector-png.webp 562w"
          sizes="(max-width: 562px) 100vw, 562px"
          type="image/webp"
        />
        <source
          srcset="/static/ad9a0eeae5df49192070d7adbb59071c/8ff5a/vector-png.png 240w,
/static/ad9a0eeae5df49192070d7adbb59071c/e85cb/vector-png.png 480w,
/static/ad9a0eeae5df49192070d7adbb59071c/6e88f/vector-png.png 562w"
          sizes="(max-width: 562px) 100vw, 562px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/ad9a0eeae5df49192070d7adbb59071c/6e88f/vector-png.png"
          alt="vector png"
          title="vector png"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>This rasterization into pngs modifies after build size of one vector(in this case) from 2kb to 7kb which is more than <strong>3x</strong> size increase. </p>
<p>Ideally this approach should be avoided if your app has a lot of vectors. Let’s look into next section on how to work with Support Library.</p>
<h2 id="with-support-library" style="position:relative;"><a href="#with-support-library" aria-label="with support library permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>With Support Library</h2>
<p>To use vectors with support library, there is a simple flag which can be added in <code class="language-text">build.gradle</code></p>
<div class="gatsby-highlight" data-language="groovy"><pre class="language-groovy"><code class="language-groovy">android <span class="token punctuation">{</span>
    <span class="token punctuation">...</span>
    vectorDrawables<span class="token punctuation">.</span>useSupportLibrary <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span></code></pre></div>
<p>and add following code to your Application class’s <code class="language-text">onCreate</code></p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin">AppCompatDelegate<span class="token punctuation">.</span><span class="token function">setCompatVectorFromResourcesEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre></div>
<p>Using support library means there is no conversion of xml to pngs based on density, instead these drawables are drawn on runtime on canvas.</p>
<p>Following this we will broadly divide usage into following sections</p>
<ul>
<li><a href="#using-vector-drawables-in-framework-components">Using vector drawables in Framework Components</a></li>
<li><a href="#loading-drawables-outside-xml">Loading drawables outside xml</a></li>
<li><a href="#working-with-custom-views">Working with custom views</a></li>
<li><a href="#safeguarding-with-lint">Safeguarding with lint</a></li>
<li><a href="#tl-dr">TL;DR</a></li>
</ul>
<h3 id="using-vector-drawables-in-framework-components" style="position:relative;"><a href="#using-vector-drawables-in-framework-components" aria-label="using vector drawables in framework components permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using vector drawables in Framework Components</h3>
<p>A very straightforward way of using vectors is <code class="language-text">ImageView</code> which can be used for icons/shapes etc.</p>
<p>Since vectors are not supported natively, they always should be used with <code class="language-text">app</code> namespace. Android Studio does a good job to let you know the same for <code class="language-text">ImageView</code></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/8a845613296359c96e6a0688a55c8461/061c7/vector-imageview.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 25.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABA0lEQVQY01WPaW6FMAyEOQ4CEtYQCI/HVvZXhFS2qr3/NaYGVKn98ckZOxqPtTQrcPHMIWQEz/ehBEfx8NFXEZ4qgOM5cAIHrnBhuzY4Zzc2B2PsH9qDjH6JVUKGAXz3/lioBmXSoB1adO8txnlE2eSQqU8IqDyES8ss64/hmS7LSzLMrqRZUcIwTErAkYYJipj6sYKMBaQSCKn6oYcgIqRHKRksZoJxC8wyofXjC+txYNl2rPvNRnrdD2zEsq5Ytw0fZ6XZQu9zfupxmihECu4yOHSVTaZa2b7QzF/EN5ppQ0cL6mFCPX2ipv7bMNPJI6qmR9X2d73oLi1CCV3X6Srj4gfGOqxWLacabAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/8a845613296359c96e6a0688a55c8461/8ac56/vector-imageview.webp 240w,
/static/8a845613296359c96e6a0688a55c8461/d3be9/vector-imageview.webp 480w,
/static/8a845613296359c96e6a0688a55c8461/e46b2/vector-imageview.webp 960w,
/static/8a845613296359c96e6a0688a55c8461/77293/vector-imageview.webp 1216w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/8a845613296359c96e6a0688a55c8461/8ff5a/vector-imageview.png 240w,
/static/8a845613296359c96e6a0688a55c8461/e85cb/vector-imageview.png 480w,
/static/8a845613296359c96e6a0688a55c8461/d9199/vector-imageview.png 960w,
/static/8a845613296359c96e6a0688a55c8461/061c7/vector-imageview.png 1216w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/8a845613296359c96e6a0688a55c8461/d9199/vector-imageview.png"
          alt="vector imageview"
          title="vector imageview"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>But let’s look at some other scenarios</p>
<h4 id="textview" style="position:relative;"><a href="#textview" aria-label="textview permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TextView</h4>
<p>We can also set icon to <code class="language-text">TextView</code> as <code class="language-text">drawableStart</code>, <code class="language-text">drawableTop</code> etc.</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>drawableStart</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/ic_account<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Account<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></div>
<p>If you run this code on devices with <strong>API &#x3C;21</strong>, you’ll face this error. </p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">Caused by: android.view.InflateException: Binary XML <span class="token function">file</span> line <span class="token comment">#11: Error inflating class TextView</span>
<span class="token punctuation">..</span>.
Caused by: android.content.res.Resources<span class="token variable">$NotFoundException</span><span class="token builtin class-name">:</span> File res/drawable/ic_account.xml from drawable resource ID <span class="token comment">#0x7f060060</span></code></pre></div>
<p>For <code class="language-text">TextView</code>, the solution is already present if you are using <code class="language-text">androidx.appcompat</code> version <code class="language-text">1.1.0</code> or above.</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Account<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>drawableStartCompat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/ic_account<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></div>
<h4 id="other-viewsviewgroups" style="position:relative;"><a href="#other-viewsviewgroups" aria-label="other viewsviewgroups permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Views/ViewGroups</h4>
<p>Unfortunately, Android Studio doesn’t warn if vectors are used with <code class="language-text">android</code> namespace in components other than <code class="language-text">ImageView</code> which makes it harder to find out where vector rendering might become a problem. There are a lot of practical use cases where you could use vectors outside of <code class="language-text">ImageView</code> such as background of a smaller <code class="language-text">ViewGroup</code> and also you can use them to draw complex shapes without writing <code class="language-text">canvas</code> related code yourself.</p>
<p>In such cases, a there are two ways to use vectors with <code class="language-text">android</code> namespace</p>
<ol>
<li>Wrap them in a <code class="language-text">StateList</code> drawable</li>
</ol>
<p><code class="language-text">ic_account_statelist.xml</code></p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/ic_account<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">></span></span></code></pre></div>
<p>By creating <code class="language-text">StateList</code>, this drawable can used with <code class="language-text">android</code> namespace anywhere and should work below API 21, though this requires you to create on extra file per vector.</p>
<ol start="2">
<li>Load vectors as drawables and set them outside of xml in Kotlin/Java</li>
</ol>
<p>You can set drawables to <code class="language-text">TextView</code>, <code class="language-text">ViewGroup</code> etc outside of xml also</p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin">viewGroup<span class="token punctuation">.</span>background <span class="token operator">=</span> yourDrawable
textView<span class="token punctuation">.</span><span class="token function">setCompoundDrawables</span><span class="token punctuation">(</span>leftDrawable<span class="token punctuation">,</span> topDrawable<span class="token punctuation">,</span> rightDrawable<span class="token punctuation">,</span> bottomDrawable<span class="token punctuation">)</span></code></pre></div>
<p>Now the question is how to load Drawable. </p>
<h3 id="loading-drawables-outside-xml" style="position:relative;"><a href="#loading-drawables-outside-xml" aria-label="loading drawables outside xml permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Loading drawables outside xml</h3>
<p>The most common known way of loading drawable is via <code class="language-text">ContextCompat</code></p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin">ContextCompat<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_account<span class="token punctuation">)</span></code></pre></div>
<p>Also there is another less known way</p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin">AppCompatResources<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_account<span class="token punctuation">)</span></code></pre></div>
<p>In current scenario both will work fine since this is plain vector.
But let’s say we have a vector which has a <code class="language-text">gradient</code> tag</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>vector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>aapt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/aapt<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>9dp<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>17dp<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>viewportWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>9<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>viewportHeight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
        <span class="token attr-name"><span class="token namespace">android:</span>pathData</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M7.1921,17L8.0072,17L8.0072,0L0,0L0,9.8079C-0,11.8049 0.2818,12.9046 0.8109,13.894C1.3401,14.8834 2.1166,15.6599 3.106,16.1891C4.0954,16.7182 5.1951,17 7.1921,17Z<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>strokeWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>fillType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evenOdd<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>strokeColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aapt:</span>attr</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android:fillColor<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gradient</span>
                <span class="token attr-name"><span class="token namespace">android:</span>startY</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span>
                <span class="token attr-name"><span class="token namespace">android:</span>startX</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3.3198788<span class="token punctuation">"</span></span>
                <span class="token attr-name"><span class="token namespace">android:</span>endY</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>17<span class="token punctuation">"</span></span>
                <span class="token attr-name"><span class="token namespace">android:</span>endX</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5.201214<span class="token punctuation">"</span></span>
                <span class="token attr-name"><span class="token namespace">android:</span>type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>linear<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#000000<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>offset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#FFFFFF<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gradient</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aapt:</span>attr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vector</span><span class="token punctuation">></span></span></code></pre></div>
<p>Loading this vector via <code class="language-text">ContextCompat</code> will throw this error on devices with <strong>API level 21-23</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML <span class="token function">file</span> line <span class="token comment">#13: invalid color state list tag gradient</span></code></pre></div>
<p>This works fine above <strong>API 23</strong> and even below <strong>API 21</strong> but fails in between these APIs. Weird, right!</p>
<p>Let’s look at what <code class="language-text">ContextCompat</code> does</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/4edb7b4864382e635a7fd16fe9881031/1dbe8/contextcompat-getdrawable.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 19.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAw0lEQVQY012PUW6DMBBEOU7jJcbY2ICxE0ggUXr/+7waIjVVP55mtNodzVbZCbEzDN6S5xtxSsyDZcuOa3Lkiyb4L3zo8f3w1jDQByFNihiFYE94Z2ldR9XqmnsKrLlnfX6zPgq3F+v9ybxsxJSpa0FEUOpUUIcXUWX+8W8VqvqsSVZx6YR8XQ6WbQ97kKeFcUyMeaYfIq7zNE3zG6qUHP6jikprzRw0Xas5F9+YthwZTFt0xxisddjyzk5Tdv62/N/wB7zCf8TFiWINAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/4edb7b4864382e635a7fd16fe9881031/8ac56/contextcompat-getdrawable.webp 240w,
/static/4edb7b4864382e635a7fd16fe9881031/d3be9/contextcompat-getdrawable.webp 480w,
/static/4edb7b4864382e635a7fd16fe9881031/e46b2/contextcompat-getdrawable.webp 960w,
/static/4edb7b4864382e635a7fd16fe9881031/04d72/contextcompat-getdrawable.webp 1374w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/4edb7b4864382e635a7fd16fe9881031/8ff5a/contextcompat-getdrawable.png 240w,
/static/4edb7b4864382e635a7fd16fe9881031/e85cb/contextcompat-getdrawable.png 480w,
/static/4edb7b4864382e635a7fd16fe9881031/d9199/contextcompat-getdrawable.png 960w,
/static/4edb7b4864382e635a7fd16fe9881031/1dbe8/contextcompat-getdrawable.png 1374w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/4edb7b4864382e635a7fd16fe9881031/d9199/contextcompat-getdrawable.png"
          alt="contextcompat getdrawable"
          title="contextcompat getdrawable"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Above <strong>API 21</strong>, it uses <code class="language-text">context</code> to inflate drawables, but there is a catch. Support for <code class="language-text">gradient</code> tag in vectors was introduced in <strong>API 24</strong> hence resolving drawables via <code class="language-text">context</code> will fail below <strong>API 24</strong> since framework doesn’t know what <code class="language-text">gradient</code> tag is!</p>
<p>Below <strong>API 21</strong>, it uses <code class="language-text">context.getResources</code> and IIRC, inflation of drawables via <code class="language-text">Resources</code> is intercepted by <code class="language-text">AppCompat</code> and it takes over inflation of drawables.</p>
<p>This error can be avoided by using <code class="language-text">AppCompatResources</code> instead of <code class="language-text">ContextCompat</code> which works well on all API levels because it does a lot of checks! 😅 Look for yourself</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/08ded04fad34f4b3fcabebe70d21ad24/6f278/appcompatresources-getdrawable.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 59.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABtUlEQVQoz21S7Y7bIBDM09Q2xAZswGDHuctHW6VS+/5vM52FJIru8mPECtjZ2Z3dBaNxDANuq8HP8wnX33/w93bBv9sZ13PGuip4bxDmBB8iMWOOGktWyIlvViPybRgGKKWw65SGnQIvZ8QYMacFMR9IsMDHhR8dVKfK5wckp+s02lZiom3LvdYaO60VEsnyuhFHpJQwOVOqhhiLqpgy47lgHCfeBZ7jk+SBolACZw0+L7+wfV6oMuCwrpjzWogKGcknT5LJ8/RM7J4Er4R3hboo+jhdsR5PCH7EmmYmRljnComjKudGGGthrUPf90+yr6SFUAYqSjxbksQQaquiStqUeykgb1LAkviV6DWuLZv+3lJgPMD19VPT/ODgG7RNU08Ov8YtTemI9pvSQtj3eyyHI02huxz4Ydvodn62KpBW6wxDGYWjKbJC+/3+u0JrDBJNCHNmInfO17kZksg4Br4bw/mVlmuR6vZbQgXDpO3jVJBpyLZWZ2WWspcp50Jc23xB+7blPSbbc/tDaVvMECX+bkykalEjhb+uyFtTZAXGXmGkMT4ktmZK5QceBqh74rvde8V/QdJ3YZhMg5cAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/08ded04fad34f4b3fcabebe70d21ad24/8ac56/appcompatresources-getdrawable.webp 240w,
/static/08ded04fad34f4b3fcabebe70d21ad24/d3be9/appcompatresources-getdrawable.webp 480w,
/static/08ded04fad34f4b3fcabebe70d21ad24/e46b2/appcompatresources-getdrawable.webp 960w,
/static/08ded04fad34f4b3fcabebe70d21ad24/f992d/appcompatresources-getdrawable.webp 1440w,
/static/08ded04fad34f4b3fcabebe70d21ad24/a31b7/appcompatresources-getdrawable.webp 1488w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/08ded04fad34f4b3fcabebe70d21ad24/8ff5a/appcompatresources-getdrawable.png 240w,
/static/08ded04fad34f4b3fcabebe70d21ad24/e85cb/appcompatresources-getdrawable.png 480w,
/static/08ded04fad34f4b3fcabebe70d21ad24/d9199/appcompatresources-getdrawable.png 960w,
/static/08ded04fad34f4b3fcabebe70d21ad24/07a9c/appcompatresources-getdrawable.png 1440w,
/static/08ded04fad34f4b3fcabebe70d21ad24/6f278/appcompatresources-getdrawable.png 1488w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/08ded04fad34f4b3fcabebe70d21ad24/d9199/appcompatresources-getdrawable.png"
          alt="appcompatresources getdrawable"
          title="appcompatresources getdrawable"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Preferring <code class="language-text">AppCompatResources</code> becomes fairly important if you have a utility class or an extension function to load drawables app wide, since that class won’t be aware of what kind of drawables it’s receiveing.</p>
<h3 id="working-with-custom-views" style="position:relative;"><a href="#working-with-custom-views" aria-label="working with custom views permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Working with custom views</h3>
<p>If your app has Custom Views in it, it might be possible that you are receveing drawable references through custom attributes. These attributes can then resolve drawables via <code class="language-text">TypedArray</code></p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">class</span> <span class="token function">TrafficView</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token punctuation">,</span> attrs<span class="token operator">:</span> AttributeSet<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">View</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">init</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> typedArray <span class="token operator">=</span> context<span class="token punctuation">.</span>theme<span class="token punctuation">.</span><span class="token function">obtainStyledAttributes</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>TrafficView<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> drawable <span class="token operator">=</span> typedArray<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>styleable<span class="token punctuation">.</span>TrafficView_image_src<span class="token punctuation">)</span>
        <span class="token function">addDrawable</span><span class="token punctuation">(</span>drawable<span class="token punctuation">)</span>
        typedArray<span class="token punctuation">.</span><span class="token function">recycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">typedArray.getDrawable</code> will fail below <strong>API 21</strong> if drawable has a vector tag in it. This is also one of the reasons <code class="language-text">android</code> namespace in framework components cannot resolve vectors since <code class="language-text">TypedArray</code> is bound to framework API level and cannot be overriden by <code class="language-text">AppCompat</code>.</p>
<p>For custom views this can be solved by creating an extension function</p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">fun</span> TypedArray<span class="token punctuation">.</span><span class="token function">getDrawableCompat</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token punctuation">,</span> <span class="token annotation builtin">@StyleableRes</span> id<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Drawable<span class="token operator">?</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> resource <span class="token operator">=</span> <span class="token function">getResourceId</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>resource <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> AppCompatResouces<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> resource<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here instead of inflating <code class="language-text">Drawable</code> via <code class="language-text">TypedArray</code>, we just retrieve resourceId from it and then use <code class="language-text">AppCompatResources</code> to safely inflate the drawable.</p>
<h3 id="safeguarding-with-lint" style="position:relative;"><a href="#safeguarding-with-lint" aria-label="safeguarding with lint permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Safeguarding with Lint</h3>
<p>Android Studio’s lint checks may not be enough if you’re using vectors heavily in your app and often use it outside of <code class="language-text">ImageView</code>. In such cases it might be beneficial to write your own lint rule to prevent runtime issues.</p>
<p>Here are two examples which will cause crash at runtime where we are using vector with <code class="language-text">android</code> namespace on API levels below 21.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/003c4bea5e79a52f002a766d1585f9e5/d5bfb/linear-layout-vector.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwElEQVQY03XM206DQBRGYR6HwwBlOhyKlEg0ajqltCBKWki46Pu/wnKk6YVRL76snf9iW0oGPJfKSHirUmK1whUewr8T+IH4Uc/z/mW5rssqiCjTiiIpKbYFaR6TPSSLKAlZZxHSVOURfiiwbRvHcX753peHWbzh9XHHU/mC1vpmZ+w1RbVhW+WmNypeI6X8k1IKKwwD+u6Dob0wdGemaWKeZ8ZxpB862s9mcexqTv2Bpq1p7rfp8f2wqE+a63XmC0Iqh2CL0DVlAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/003c4bea5e79a52f002a766d1585f9e5/8ac56/linear-layout-vector.webp 240w,
/static/003c4bea5e79a52f002a766d1585f9e5/d3be9/linear-layout-vector.webp 480w,
/static/003c4bea5e79a52f002a766d1585f9e5/e46b2/linear-layout-vector.webp 960w,
/static/003c4bea5e79a52f002a766d1585f9e5/f13ee/linear-layout-vector.webp 1072w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/003c4bea5e79a52f002a766d1585f9e5/8ff5a/linear-layout-vector.png 240w,
/static/003c4bea5e79a52f002a766d1585f9e5/e85cb/linear-layout-vector.png 480w,
/static/003c4bea5e79a52f002a766d1585f9e5/d9199/linear-layout-vector.png 960w,
/static/003c4bea5e79a52f002a766d1585f9e5/d5bfb/linear-layout-vector.png 1072w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/003c4bea5e79a52f002a766d1585f9e5/d9199/linear-layout-vector.png"
          alt="linear layout vector"
          title="linear layout vector"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 818px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/af182ed1a0bcdcb90ee9def1e73d8928/64d87/textview-vector.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 22.499999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABF0lEQVQY00WN2W6CUBRF+RoU6lCUAk1QxAmcELiKDErVB///D1av2NiHlbV3cnK2spwM8V2D0B8w+u7TardpS1qt1ttPtLb2Qvvj3XV0/R/FHHRwhgYz18W1HPrdT0zTxLEdDMPAsixs26ZvdOnJ205P50PSMzoN+oeGqqrN6NOKKsPYnbJdpKxne4L5imgfIYRgs9kQxzFJnBCuA6ahxyycMPZdaY9p4OFNR3LUxvp6DSu+PyGNBNm+5BCdiHcpeZ5T13XjsiwpioJUpGyTkJ1Ys46k05XsK8LtkkUwZxkumM8mKEEQcKlq6uLGOf+hzCtutxuPx4P7/d48vl6vVOeSrBCcqiP5JSMrDxxlF8ekyXmdIdKIX7FcsKdjipZYAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/af182ed1a0bcdcb90ee9def1e73d8928/8ac56/textview-vector.webp 240w,
/static/af182ed1a0bcdcb90ee9def1e73d8928/d3be9/textview-vector.webp 480w,
/static/af182ed1a0bcdcb90ee9def1e73d8928/3a941/textview-vector.webp 818w"
          sizes="(max-width: 818px) 100vw, 818px"
          type="image/webp"
        />
        <source
          srcset="/static/af182ed1a0bcdcb90ee9def1e73d8928/8ff5a/textview-vector.png 240w,
/static/af182ed1a0bcdcb90ee9def1e73d8928/e85cb/textview-vector.png 480w,
/static/af182ed1a0bcdcb90ee9def1e73d8928/64d87/textview-vector.png 818w"
          sizes="(max-width: 818px) 100vw, 818px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/af182ed1a0bcdcb90ee9def1e73d8928/64d87/textview-vector.png"
          alt="textview vector"
          title="textview vector"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>We can write a custom lint rule which will then give out errors in XML whenever vectors are used without <code class="language-text">app</code> namespace.</p>
<details>
<summary><u><code class="language-kotlin">VectorUsageDetector</code></u></summary>
<p>
<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">class</span> VectorUsageDetector <span class="token operator">:</span> <span class="token function">ResourceXmlDetector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>

        <span class="token keyword">val</span> VECTOR_ISSUE <span class="token operator">=</span> Issue<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
                id <span class="token operator">=</span> <span class="token string">"Vector Usage Issue"</span><span class="token punctuation">,</span>
                briefDescription <span class="token operator">=</span> <span class="token string">"Warns usage of vectors with `android` namespace"</span><span class="token punctuation">,</span>
                explanation <span class="token operator">=</span> <span class="token string">"Vectors with `android` are not supported in API level below 21"</span><span class="token punctuation">,</span>
                category <span class="token operator">=</span> Category<span class="token punctuation">.</span>CORRECTNESS<span class="token punctuation">,</span>
                severity <span class="token operator">=</span> Severity<span class="token punctuation">.</span>ERROR<span class="token punctuation">,</span>
                implementation <span class="token operator">=</span> <span class="token function">Implementation</span><span class="token punctuation">(</span>
                        VectorUsageDetector<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">,</span>
                        Scope<span class="token punctuation">.</span>RESOURCE_FILE_SCOPE
                <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">appliesTo</span><span class="token punctuation">(</span>folderType<span class="token operator">:</span> ResourceFolderType<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
        <span class="token keyword">return</span> folderType <span class="token operator">==</span> ResourceFolderType<span class="token punctuation">.</span>LAYOUT
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getApplicableAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Collection<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> XmlScannerConstants<span class="token punctuation">.</span>ALL
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">visitAttribute</span><span class="token punctuation">(</span>context<span class="token operator">:</span> XmlContext<span class="token punctuation">,</span> attribute<span class="token operator">:</span> Attr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> name <span class="token operator">=</span> attribute<span class="token punctuation">.</span>name
        <span class="token keyword">val</span> value <span class="token operator">=</span> attribute<span class="token punctuation">.</span>value
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"android:"</span><span class="token punctuation">)</span> <span class="token operator">and</span> value<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"drawable"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> isVectorDrawable <span class="token operator">=</span> <span class="token function">isVectorDrawable</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"@drawable/"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isVectorDrawable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                context<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span>
                        VECTOR_ISSUE<span class="token punctuation">,</span>
                        attribute<span class="token punctuation">,</span>
                        context<span class="token punctuation">.</span><span class="token function">getValueLocation</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token string">"Vector is used without `app` namespace. This can cause a crash on API levels below 21."</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">isVectorDrawable</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> context<span class="token operator">:</span> XmlContext<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
        <span class="token keyword">var</span> isVectorDrawable <span class="token operator">=</span> <span class="token boolean">false</span>
        context<span class="token punctuation">.</span>mainProject<span class="token punctuation">.</span>resourceFolders<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> folder <span class="token operator">-></span>
            <span class="token keyword">val</span> path <span class="token operator">=</span> folder<span class="token punctuation">.</span>path
            <span class="token keyword">val</span> drawableFolder <span class="token operator">=</span> <span class="token string">"<span class="token interpolation variable">$path</span>/drawable/"</span>
            <span class="token keyword">val</span> drawableFile <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation variable">$drawableFolder</span>/<span class="token interpolation variable">$name</span>.xml"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>drawableFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                drawableFile<span class="token punctuation">.</span><span class="token function">forEachLine</span> <span class="token punctuation">{</span> lineString <span class="token operator">-></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>lineString<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>TAG_VECTOR<span class="token punctuation">)</span><span class="token punctuation">)</span> isVectorDrawable <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> isVectorDrawable
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</p>
</details>  
<p>Here’s how it looks like with lint rule in place.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f0c6cd047ad94077b691a0c6b1d65a55/e9140/linear-layout-lint-error.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 28.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABIElEQVQY02WO63KCMBSEeR7uXgKBcBFMEGxFKyBqO33/t9ieRJ1ppz++2c2ek02sjVhhmzPkyRKu58JxHYOrofNLdWbbNhzH+YfOX1hpxCEziTLLkWQcXESkMVbxAmv+gNFjHpWaQlsX/C75W25xJlCLHTZFja7r0O5aNE2DXKXgBUOcrY0u2QJBGCBYBA99+pDU9zz4vm+wkihFmVYosgJSSVRVhawQKEqOPI8hUoayTCASBkG/F2mElHxGXsP5mkpDQxAEsMb5iuNwxnCZcR4nfBDDNGO6XAnKhsn4UTNdCJqPWmlnfu6MI977HrtuD0udviEPN6j+Dnn8hCLkYYbsr+S/SO/G61nzdkRDl+ruZPJtf4PsDlDtHpVqUdYSP761zbxuO9eQAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/f0c6cd047ad94077b691a0c6b1d65a55/8ac56/linear-layout-lint-error.webp 240w,
/static/f0c6cd047ad94077b691a0c6b1d65a55/d3be9/linear-layout-lint-error.webp 480w,
/static/f0c6cd047ad94077b691a0c6b1d65a55/e46b2/linear-layout-lint-error.webp 960w,
/static/f0c6cd047ad94077b691a0c6b1d65a55/ab43a/linear-layout-lint-error.webp 1226w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/f0c6cd047ad94077b691a0c6b1d65a55/8ff5a/linear-layout-lint-error.png 240w,
/static/f0c6cd047ad94077b691a0c6b1d65a55/e85cb/linear-layout-lint-error.png 480w,
/static/f0c6cd047ad94077b691a0c6b1d65a55/d9199/linear-layout-lint-error.png 960w,
/static/f0c6cd047ad94077b691a0c6b1d65a55/e9140/linear-layout-lint-error.png 1226w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/f0c6cd047ad94077b691a0c6b1d65a55/d9199/linear-layout-lint-error.png"
          alt="linear layout lint error"
          title="linear layout lint error"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/4bfacda6be1554f575b9acf9997bbe4d/11a8f/textview-lint-error.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9klEQVQY04WN3U6DQBSEeRoxsEgFWn62BbrQUAr7A7QmJiYae+H7P8F4irW9MfHiy8yZ3TPHcl0HWbxAySMECx/M8+BdcZk7wzxS+uc4/2NdFsPgGdVGIM8KbMUWRVFACIGsjBElAaI0RMyX8C8H2f3gX1iMMTI++KoET3LUdT2XCVEhXcfgmwhpFoKvV0jSJR334T95t2J25VZo2zY455imEVJKDIOBGTRBajTG0UCpnryiTEFTJjWhJJT+mbUxaNoWu6aB9Wg/IMsr9K9f2E/vaE+fxBntkfzxA4ffeX47ox9O6JTBfnzD4YVy0l5TYSexazt8AwJcqu1EUHpFAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/4bfacda6be1554f575b9acf9997bbe4d/8ac56/textview-lint-error.webp 240w,
/static/4bfacda6be1554f575b9acf9997bbe4d/d3be9/textview-lint-error.webp 480w,
/static/4bfacda6be1554f575b9acf9997bbe4d/e46b2/textview-lint-error.webp 960w,
/static/4bfacda6be1554f575b9acf9997bbe4d/4cec6/textview-lint-error.webp 1272w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/4bfacda6be1554f575b9acf9997bbe4d/8ff5a/textview-lint-error.png 240w,
/static/4bfacda6be1554f575b9acf9997bbe4d/e85cb/textview-lint-error.png 480w,
/static/4bfacda6be1554f575b9acf9997bbe4d/d9199/textview-lint-error.png 960w,
/static/4bfacda6be1554f575b9acf9997bbe4d/11a8f/textview-lint-error.png 1272w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/4bfacda6be1554f575b9acf9997bbe4d/d9199/textview-lint-error.png"
          alt="textview lint error"
          title="textview lint error"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Having instrumentation test case which run on devices with API level less than 21 can also help to catch these errors early.</p>
<h3 id="tl-dr" style="position:relative;"><a href="#tl-dr" aria-label="tl dr permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TL; DR</h3>
<ul>
<li>Vectors are great for icons and small custom shapes, but use them judiciously with support library</li>
<li>Always use <code class="language-text">AppCompatResouces</code> over <code class="language-text">ContextCompat</code> when loading vector drawables.</li>
<li>Always prefer <code class="language-text">app</code> namespace when using vector drawables in xml.</li>
<li>Write Lint rules to safeguard incorrect usage and run instrumentation test cases on device with API level less than 21.</li>
</ul>
<h4 id="extra-material-on-vectors" style="position:relative;"><a href="#extra-material-on-vectors" aria-label="extra material on vectors permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extra material on Vectors</h4>
<ul>
<li>Here’s a 25 min video on Vectors - <a href="https://youtu.be/fgbl34me3kk" target="_blank" rel="nofollow noopener noreferrer">Vector Assets</a></li>
<li>Here’s a library which extends certain svg functionalities to Vector Drawables - <a href="https://github.com/alexjlockwood/kyrie" target="_blank" rel="nofollow noopener noreferrer">kyrie</a></li>
</ul>
<p>Thanks for reading!</p>
<p>Stay safe.</p></div></div></div><div class="Post-module--post__footer--3WzWU"><div class="Tags-module--tags--1L_ct"><ul class="Tags-module--tags__list--91FqN"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/vectors/">Vectors</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/android/">Android</a></li></ul></div><div class="post-social"><span>Share: </span><div aria-label="twitter" role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter button is-outlined is-rounded twitter"><span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></span></div><a class="button is-outlined is-rounded linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jitinsharma.in/posts/lessons-learnt-from-vector-drawables/&amp;title=Lessons learnt from Vector Drawables&amp;source=LinkedIn" target="_blank" rel="noopener noreferrer"><span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></span></a><div aria-label="reddit" role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--reddit button is-outlined is-rounded reddit"><span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit-alien" class="svg-inline--fa fa-reddit-alien fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"></path></svg></span></div></div></div><div class="Post-module--post__comments--25y6I"><div><div id="disqus_thread"></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/lessons-learnt-from-vector-drawables/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-daa651738e60a36c8cd3.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-ab195e893a07d87f209c.js"],"component---src-templates-not-found-template-js":["/component---src-templates-not-found-template-js-0ace8fc7e986b0a5a5fa.js"],"component---src-templates-tags-list-template-js":["/component---src-templates-tags-list-template-js-80dd1f16bbc21de2dbf5.js"],"component---src-templates-categories-list-template-js":["/component---src-templates-categories-list-template-js-5ae070071cfbc840cfb5.js"],"component---src-templates-presentations-template-js":["/component---src-templates-presentations-template-js-598df8a69cb8f1b94fc5.js"],"component---src-templates-presentation-template-js":["/component---src-templates-presentation-template-js-b0341bedd2082edd007d.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-4b738e15af573d7f7419.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-1a55ec92e45543b5c851.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-c01b7ed23460476fc115.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-6b6a13f0ce1ff7f68883.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-5b9d131cb2d290d6a2df.js"]};/*]]>*/</script><script src="/component---src-templates-post-template-js-4b738e15af573d7f7419.js" async=""></script><script src="/aa960dbb360f83e121eeb584de2418d77bd52dd1-600e30ed284ab2ddcf7d.js" async=""></script><script src="/cb1608f2-68d5b5ad1904ad177490.js" async=""></script><script src="/a9a7754c-b254183c8fbfa9819751.js" async=""></script><script src="/styles-b8a088968a9324807caf.js" async=""></script><script src="/app-daa651738e60a36c8cd3.js" async=""></script><script src="/framework-ddca61c4ba7811224f68.js" async=""></script><script src="/webpack-runtime-f1d4d169c81c600d6090.js" async=""></script></body></html>